{% extends "base.html" %}
{% block title %}Crea Utente{% endblock %}
{% block page_title %}âž• Crea Nuovo Utente{% endblock %}

{% block content %}
<form method="POST">
  <label>Nome:</label>
  <input type="text" name="name" required placeholder="Nome completo"><br><br>

  <label>Email:</label>
  <input type="email" name="email" required placeholder="esempio@dominio.com"><br><br>

  <label>Password:</label>
  <input type="password" name="password" required><br><br>

  <label>ZwiftPower ID:</label>
  <input type="text" name="profile_id" required placeholder="ID numerico ZwiftPower"><br><br>

  <label>Ruolo:</label>
  <select name="role" required>
    <option value="admin">Admin</option>
    <option value="captain">Captain</option>
    <option value="rider">Rider</option>
  </select><br><br>

  <label>Team:</label>
  <select name="team_id">
    <option value="">-- Nessun team --</option>
    {% for team in teams %}
      <option value="{{ team.id }}">{{ team.name }}</option>
    {% endfor %}
  </select><br><br>

  <label>Attivo:</label>
  <input type="checkbox" name="active" value="1" checked><br><br>

  <button type="submit">ðŸ’¾ Crea Utente</button>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="mt-3">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
{% endblock %}
